## 영속성 컨텍스트  

영속성 컨텍스트는 ```엔티티를 영구저장```하는 환경이다.
* 엔티티 매니저를 통해서 영속성 컨텍스트에 접근/관리할 수 있다
* persist() 메소드는 엔티티 매니저를 통해서 엔티티를 영속성 컨텍스트에 저장하는 것이다.

## 생명주기

엔티티의 생명주기는 ```영속```, ```준영속```, ```비영속```, ```삭제``` 4가지이다.

### 1. 비영속

* 엔티티 객체를 생성 후 저장하지 않은 상태
* 따라서 영속성 컨텍스트와 데이터베이스와는 전혀 관련이 없음

### 2. 영속

* 엔티티 매니저를 통해서 엔티티를 영속성 컨텍스트를 저장한 상태 → 엔티티매니저에 의해 관리되는 엔티티
* 하지만 데이터베이스에 저장된 상태는 아님

### 3. 준영속

* 영속성 컨텍스트가 관리하던 영속 상태의 엔티티를 더이상 관리하지 않는 상태
* ```em.detach()```, ```em.close()```, ```em.clear()```로 준영속 상태로 변경 가능 

### 4. 삭제

* 엔티티를 영속성 컨텍스트와 데이터베이스에서 삭제하는 경우
