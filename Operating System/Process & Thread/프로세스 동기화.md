## 동기화

> 요청과 그 결과가 ```동시에``` 일어나는 것

* 동기방식은 설계가 매우 간단하고 직관적이지만 결과가 주어질 때까지 아무것도 못하고 대기해야 한다.

## 비동기화

> 요청과 결과가 동시에 일어나지 않는 것

* 요청한 그 자리에서 결과가 주어지지 않음
* 설계가 복잡한 반면, 결과가 주어지는데 시간이 걸리더라도 그 시간 동안 다른 작업을 할 수 있으므로 자원을 효율적으로 사용할 수 있다.

## 프로세스 동기화

> 프로세스의 수행시기를 맞추는 것

* ```실행 순서 제어``` : 프로세스를 올바른 순서대로 실행하기
* ```상호배제``` : 동시에 접근해서 안되는 자원에 하나의 프로세스만 접근하게 하기

#### 1. 실행 순서 제어를 위한 동기화

* Writer 프로세스와 Reader 프로세스가 동시에 실행 중이라 가정하면, 이 두 프로세스는 Writer 프로세스 실행이 끝나고 Reader 프로세스가 실행되는 순서가 되어야한다.
* 이처럼 동시에 실행되는 프로세스를 올바른 순서대로 실행하는 것이 첫번째 프로세스 동기화이다.

#### 2. 상호배제를 위한 동기화

* ```상호배제```는 공유가 불가능한 자원의 동시 사용을 피하기 위해 사용하는 알고리즘이다.
* 만약 프로세스 A는 현재 저축된 금액에 2만원을 더하는 프로세스, 프로세스 B는 5만원을 넣는 프로세스라 가정해보자.
* 프로세스A가 잔액을 읽어오고 잔액에 2만원을 더하려는 찰나에 문맥교환이 발생하고 프로세스 B가 수행이 된다면 결과는 7만원이 아닌 5만원이 될 것이다.
* 이처럼 올바른 결과를 위해 동시에 접근하지 못하게 하는것이 상호 배제이다.

## 임계 구역

> 둘 이상의 프로세스가 동시에 접근해서는 안되는 공유 자원의 코드 영역

* 두 개 이상의 프로세스가 임계 구역에 진입하고자 하면 둘 중 하나는 대기해야 한다.
* 이때 배타적인 사용권을 보장받기 위해 뮤텍스락, 세마포어 같은 동기화 매커니즘이 사용된다.

## Mutex Lock

>  하나의 스레드만이 임계 구역에 진입하도록 제어

* Lock을 획득할 수 없다면 → 대기
* Lock을 획득할 수 있다면 → 임계 구역을 잠근 뒤 임계구역에서 작업 수행
* 임계 구역에서 빠져 나올 떄는 Lock을 해제하여 다른 스레드들이 진입할 수 있게됨

## Semaphores

> 여러 스레드가 임계 구역에 진입하도록 허용하는 동기화 기법

뮤텍스 락은 임계 구역에 오직 하나의 스레드만 진입할 수 있는 반면 세마포는 허용 가능한 스레드 수 만큼 동시에 임계 구역에 진입할 수 있다.

* 임계 구역에 들어갈 수 있다면 → 공유자원의 개수를 하나 감소하고 진입
* 임계 구역에 들어갈 수 없다면
  * → 자신의 PCB를 대기 큐에 넣고 대기 상태로 전환
  * → 다른 프로세스의 작업이 끝났다면 대기 상태인 프로세스를 꺼내 준비큐로 옮긴 후 임계 구역 진입
* 임계 구역에 빠져 나오면 공유자원의 개수를 증가시킴  





