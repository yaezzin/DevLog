## REST

> REST는 ```URI를 통해 자원을 표현```하고, ```HTTP 메서드를 이용하여 해당 자원의 CRUD 행위를 적용```하여 그 결과를 받는 것을 말한다.

### 1. 자원 - URI
* 모든 자원에는 고유한 ID가 존재하고, 이 자원은 서버에 존재
* 자원을 구별하는 ID는 '/user/{userIdx}'와 같은 HTTP URI
* 클라이언트는는 URI를 이용해 자원을 지정하고 해당 자원의 상태(정보)에 대한 처리를 서버에 요청

### 2. 행위 - HTTP Method

* POST : 정보 입력, 클라이언트에서 서버로 전달하려는 정보를 보냄 (CREATE)
* GET : 정보 요청, URI가 가진 정보를 검색하기 위해 서버에 요청 (READ)
* PUT : 정보 수정, **전체 데이터**를 갱신하기 위해 사용 (UPDATE)
* PATCH : 정보 수정 **데이터의 일부만 수정할 때 ** 사용 (UPDATE)
* DELETE : 정보 삭제, (안전성 문제로 대부분 서버에서 비활성화)

### 3. 표현 - Representation of Resource

* Client와 Server가 데이터를 주고받는 형태로 JSON, XML, TEXT, RSS 등이 존재
* JSON, XML을 통해 데이터를 주고 받는 것이 일반적입니다.


## API

API는 Application Programming Interface의 약자로, 애플리케이션에서 **데이터를 주고 받기 위한 방법**을 의미한다.  
어떠한 방식으로 정보를 요청해야 하며, 어떠한 데이터를 제공 받을 수 있을지에 대한 규격들을 API라고 한다.

* 음식점에서 주문 시 음식의 레시피를 알 필요 없이 점원에게 메뉴 이름만 말하면 되는 것처럼   
     서버(점원)가 해주었으면 하는 동작을 HTTP 요청 하나로 묶어둔 것..!

## RESTful API

RESTful API는 **REST 제약 조건을 지키며 설계된 API**를 의미한다.

#### 대표적인 규칙들

1. 자원은 동사가 아닌 ```명사```를 사용 (자원만을 나타냄)

```java
POST /addPost // (X) 포스트 생성하기
POST /posts   // (O) 명사만 사용 → 동작은 HTTP 메소드가 표현하므로 동사로 적지 아니함!
````

2. ```복수형```으로 작성

```java
GET /posts     // → 모든 post 조회
GET /posts/21  // → 21번 post를 조회
```

3. ```소문자``` 및 ```하이픈(-)```을 사용

```java
POST /postComment  (X)
POST /post-comment (O)
POST /post_comment (X)
```
* 소문자를 통해 나타내야하며, 언더바(_) 대신 하이픈(-)을 사용한다.
* 단어의 결합이 필요한 경우 하이픈을 사용하면 되나, 최대한 사용하지 않는 것을 권장한다.

4. 계층관계는 슬래시 ```/```로 표현

```java
GET /users/11/posts/12  // → 11번 유저의 12번 게시물을 가져옴
```
* 또한 슬래시간의 값은 4개 이하를 권장함

## REST 특징

### 1. Server-Client (서버-클라이언트 구조)
자원을 가지고 있는 쪽이 Server, 자원을 요청하는 쪽이 Client가 된다.
* ```REST Server```: API를 제공하고 비즈니스 로직 처리 및 저장을 책임진다.
* ```Client```: 사용자 인증이나 context(세션, 로그인 정보) 등을 직접 관리하고 책임진다.
* 클라이언트와 서버간의 역할이 확실히 구분되므로 의존성이 줄어든다.

### 2. Stateless (무상태)

* 서버는 클라이언트에 대한 사전 정보나 클라이언트의 상태를 저장하지 않는다.
* 세션, 쿠키 같은 정보를 별도로 저장하고 관리하지 않기 때문에 서버는 들어오는 요청을 단순히 처리만 해준다.

### 3. Cacheable (캐시 처리 가능)

* HTTP라는 기존 웹 표준을 그대로 사용하기 때문에, 웹에서 사용하는 기존 인프라를 그대로 활용할 수 있다. 
* 따라서 HTTP가 가진 캐싱 기능이 적용할 수 있다. 
* HTTP 프로토콜 표준에서 사용하는 Last-Modified 태그나 E-Tag를 이용하면 캐싱 구현이 가능하다.

### 4. Layered System (계층 구조)

* REST Server는 다중 계층으로 구성될 수 있다.
* 보안, 로드 밸런싱, 암호화 등을 위한 계층을 추가하여 구조를 변경할 수 있다.
* Proxy, Gateway와 같은 네트워크 기반의 중간매체를 사용할 수 있다.
* 하지만 Client는 Server와 직접 통신하는지, 중간 서버와 통신하는지는 알 수 없다. 

### 5. Uniform Interface (인터페이스 일관성)
* URI로 지정한 Resource에 대한 요청을 통일되고, 한정적으로 수행하는 아키텍처 스타일
* HTTP 표준 프로토콜에 따르는 모든 플랫폼에서 사용이 가능하며, Loosely Coupling(느슨한 결함) 형태를 가진다. 
    * 즉, 특정 언어나 기술에 종속되지 않음
    
### 6. Self-Descriptiveness (자체 표현)
* 요청 메시지만 보고도 쉽게 이해할 수 있는 자체 표현 구조로 되어있다.


## 참고자료
* https://dzone.com/articles/7-rules-for-rest-api-uri-design-1


