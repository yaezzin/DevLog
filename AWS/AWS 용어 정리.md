# Aws

<img width="652" alt="스크린샷 2023-08-23 오후 4 50 48" src="https://github.com/yaezzin/TIL/assets/97823928/96ff4e92-5c52-457c-b177-f3087029402b">

## Region

AWS에서 제공되는 클라우드 컴퓨팅 리소스들은 전세계 각국에서 호스팅 되며, 이때 호스팅되는 위치를 지리적 관점으로 영역을 구분하는데 이를 ```리전```
이라고 함
* 전세계에 물리적으로 호스팅영역을 구분하였기 때문에 사용자는 자신과 가장 가까운 리전을 선택하여 사용하면 됨
* 각 리전은 완전히 독립적이기 때문에 리전A에 만든 리소스를 리전B에서 사용할 수 없음

## Availabilty Zone

* 한 리전 내에서 물리적으로 분리된 데이터 센터의 클러스터
* 가용 영역은 리전 내에서 여러개가 존재하며, 고유한 식별자로 구분됨
* ex ) AWS의 "us-east-1" 리전에는 "us-east-1a," "us-east-1b," "us-east-1c"와 같은 여러 가용 영역이 있을 수 있습
* 서로 다른 가용 영역에 리소스를 배포함으로써 고가용성을 확보하고 지역적인 장애에 대비할 수 있음

## VPC

> 퍼블릭 클라우드 환경에서 사용할 수 있는 사설 네트워크
* 클라우드에 생성되는 리소스들은 네트워크로 접근이 가능한데, 이때 하나의 계정에서 생성하는 리소스들만 격리된 환경인 VPC에 생성함
* 다른 네트워크와 논리적으로 분리되어 있어 인프라를 안전하게 구축, 관리할 수 있음
  
## Subnet

> VPC 내에서 IP 주소 범위를 나눈 작은 네트워크 세그먼트
* 서브넷을 사용하면 VPC 내의 리소스를 논리적으로 구분할 수 있음
* ex ) 애플리케이션 서버, 데이터베이스 서버 등등을 서로 다른 서브넷에 배치하여 각각을 격리하고 관리할 수 있음

## Internet Gateway

> VPC에서 호스팅하는 리소스와 인터넷간의 통신을 가능케 하는 것

* 서브넷 내에 Ec2와 같은 리소스가 인터넷과 연결하기 위해서 반드시 필요!
* 외부 인스턴스가 Public IP/Elastic IP를 가진 AWS 리소스에 대해 요청을 보냈을 떄, 인터넷 게이트웨이는 IP 주소를 변환해 리소스의 내부 IP 주소로 해당 요청을 전송
* 마찬가지로 서브넷 내부에 있는 리소스가 VPC 밖에 있는 서비스에 요청을 전송할 때, 응답 주소는 해당 리소스의 Public IP/Elastic IP로 세팅
* 만약 서브넷에 인터넷 게이트웨이가 없으면 private 서브넷, 있으면 public 서브넷! (ㄱ)

## Private Ip, Public IP

```Private IP```
* VPC내에서만(=동일한 네트워크 내에서) 사용되는 IP주소
* VPC의 IP 주소 범위에 속하며, 프라이빗 IP 주소는 인터넷에 직접 접근할 수 없음

```Public IP```
* 외부와 통신하기 위한 IP 주소

## ACL, Security Group

보안 그룹과 네트워크 ACL은 네트워크에 대해 IP와 Port를 기준으로 통신을 허용 또는 차단하는 기능을 제공함

||보안 그룹|ACL|
|:----:|----|------|
|서비스 범위|인스턴스 레벨에 적용|서브넷 레벨에 적용|
|정책|허용 규칙만 적용|허용 및 거부 규칙 적용|
|적용 방법| 인스턴스에 보안 그룹 추가|연결된 서브넷에 모든 인스턴스에 자동 적용됨|

## EC2

> AWS에서 제공하는 클라우드 컴퓨팅 서비스
* 클라우드 컴퓨팅은 클라우드를 통해 서버, 스토리지, 데이터베이스 등의 컴퓨팅 서비스를 제공
* 따라서 AWS에서 원격으로 제어할 수 있는 가상의 컴퓨터를 한 대 빌리는 것
* EC2는 필요에 따라 성능, 용량을 자유롭게 조절할 수 있고, 사용한 만큼만 지불하면 됨

## AMI (Amazon Machine Images)

> EC2 인스턴스(가상머신)를 시작하는데 필요한 정보가 들어있는 이미지 = ```가상 머신의 이미지 스냅샷```

<img width="567" alt="스크린샷 2023-08-23 오후 5 27 38" src="https://github.com/yaezzin/TIL/assets/97823928/ab175234-5256-4764-bdae-9b99313a115a">

* 인스턴스는 AMI의 사본 중 하나, AMI로 여러 인스턴스 실행이 가능
* AMI는 운영체제, 런타임 등이 구성된 템플릿으로, 이미 구성된 운영체제 및 설정을 가진 가상머신을 쉽게 시작할 수 있음
* Amazon Linux, Ubuntu, Windows Server, 사용자 정의 AMI 등 다양한 AMI 옵션이 존재함

