## 클래스 변수, 인스턴스 변수

변수는 선언위치에 따라 ```클래스변수```, ```인스턴스변수```, ```지역변수``` 세 종류가 존재한다. 

```java
class Example {   // 클래스영역
    
    int a;        // 인스턴스변수
    static int b; // 클래스변수
   
    void func() {   // 메서드 영역
        int c = 0;  // 지역변수
    }
}
```

### 1. 인스턴스 변수 (non-static)

* 클래스 영역에 선언된 변수
* 클래스의 **인스턴스를 생성**할 때 만들어지므로, 인스턴스의 변수의 값을 사용하려면 인스턴스를 생성해야함 
* **객체 생성 시마다 새로운 변수가 생성됨** 
* 독립적인 저장공간을 가지므로 **서로 다른 값**을 가질 수 있음 (공유되지 X)

### 2. 클래스 변수 (static)

* 클래스 영역에서 ```static 키워드```로 선언된 변수
* 클래스의 인스턴스를 여러번 생성하여도 static변수는 **한 번만 생성**
* -> 즉, 동일한 클래스의 모든 객체들에 의해서 **공유**됨
* **클래스가 메모리에 로딩될 때** 생성되어 프로그램이 종료될 때까지 유지
* 클래스가 메모리에 올라갈 때 클래스의 멤버로 메모리에 올라가므로 인스턴스 생성 없이 사용 가능

### 3. 지역변수 
* 메서드 내에 선언되어 메서드 내에서만 사용 가능
* 메서드가 종료되면 사용할 수 었음 

## 메모리에 적재되는 위치

메모리의 공간은 크게 ```Static(스태틱) 영역```, ```Stack(스택) 영역```, ```Heap(힙) 영역```으로 구분된다.

### 1. Static 영역

* **전역변수**와 **static변수**를 Static 영역에 데이터를 저장한다.
* static 영역의 데이터는 프로그램의 시작부터 종료까지 메모리에 남게 된다.

### 2. Stack 영역

* 기본 자료형에 해당하는 **지역변수**의 데이터 값이 저장되는 공간
* 메소드가 호출될 때 메모리에 할당되고 종료되면 메모리가 해제된다.
* 스택 영역은 LIFO(선입후출)구조로 높은 주소에서 낮은 주소의 방향으로 할당된다.

### 3. Heap 영역

* Heap 영역은 사용자가 직접 관리할 수 있는 메모리 영역으로, 메모리 공간이 동적으로 할당되고 해제된다.
* 참조형의 데이터 타입을 갖는 인스턴스, 배열 등은 힙 영역에 데이터가 저장된다.
* 이때 변수는 stack 영역의 공간에서 실제 데이터가 저장된 힙 영역의 참조값을 new 연산자를 통해 리턴받는다.
* 즉, 실제 데이터를 갖고 있는 Heap 영역의 참조 값을 Stack 영역의 객체가 갖고 있다

```A a = new A();``` 의 경우
* 생성된 객체 A는 힙영역에, 객체를 가르키는 참조값 a은 스택 영역에 저장된다!

## 참고자료
* https://m.blog.naver.com/heartflow89/220954420688
